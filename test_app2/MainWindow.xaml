<Window x:Class="test_app2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:custom="clr-namespace:System.IO.Ports;assembly=System"
        xmlns:viewmodels="clr-namespace:test_app2.ViewModels"
        xmlns:Converters="clr-namespace:test_app2.Converters"
        xmlns:UI="clr-namespace:test_app2.UI"
        xmlns:System="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Closing="Window_Closing"
        Title="Aboba" Height="720" Width="1280"
        MinWidth="1280"
        Style="{DynamicResource CustomWindowStyle}">
    <Window.Resources>
        <ObjectDataProvider x:Key="PortParitySettingsViewModel" 
                            MethodName="GetValues"
                            ObjectType="{x:Type System:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="custom:Parity"/>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <ObjectDataProvider x:Key="PortStopSettingsViewModel" 
                            MethodName="GetValues"
                            ObjectType="{x:Type System:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="custom:StopBits"/>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <Converters:BoolToIsConnectedConverter x:Key="BoolToIsConnectedConverter"/>
    </Window.Resources>
    <Window.DataContext>
        <viewmodels:MainViewModel/>
    </Window.DataContext>
    <Grid Margin="5">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="800"/>
            </Grid.ColumnDefinitions>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="240*"/>
                    <RowDefinition Height="170*"/>
                    <RowDefinition Height="260"/>
                </Grid.RowDefinitions>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition Height="50.58"/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <!--Grid HorizontalAlignment="Left" VerticalAlignment="Top" Width="320" Height="210" Margin="0,0,0,480"-->
                    <TextBlock x:Name="COMConnectionTextBlock" HorizontalAlignment="Left" Margin="10,10,0,0" TextWrapping="Wrap" Text="COM-порт:" VerticalAlignment="Top"/>
                    <TextBlock x:Name="COMName" HorizontalAlignment="Right" Margin="10,10,0,0" TextWrapping="Wrap" Text="{Binding SerialPort.Settings.SelectedCOMPort}" VerticalAlignment="Top"/>
                    <TextBlock x:Name="COMBaudRateTextBlock" HorizontalAlignment="Left" Margin="10,10,0,0" Grid.Row="1" TextWrapping="Wrap" Text="Скорость, бод/c:" VerticalAlignment="Top"/>
                    <TextBlock x:Name="COMBaudRate" HorizontalAlignment="Right" Margin="10,10,0,0" Grid.Row="1" TextWrapping="Wrap" Text="{Binding SerialPort.Settings.SelectedBaudRate}" VerticalAlignment="Top"/>
                    <TextBlock x:Name="LFIDeviceType" HorizontalAlignment="Left" Margin="10,10,0,0" Grid.Row="2" TextWrapping="Wrap" Text="Тип устройства:" VerticalAlignment="Top"/>
                    <TextBlock x:Name="LFIDeviceTypeModel" HorizontalAlignment="Right" Margin="10,10,0,0" Grid.Row="2" TextWrapping="Wrap" Text="{Binding FaultIndicator.DeviceModel}" VerticalAlignment="Top"/>
                    <TextBlock x:Name="LFIDeviceFamily" HorizontalAlignment="Left" Margin="10,10,0,0" Grid.Row="3" TextWrapping="Wrap" Text="Семейство устройства:" VerticalAlignment="Top"/>
                    <TextBlock x:Name="LFIDeviceFamilyModel" HorizontalAlignment="Right" Margin="10,10,0,0" Grid.Row="3" TextWrapping="Wrap" Text="{Binding FaultIndicator.DeviceFamily}" VerticalAlignment="Top"/>
                    <Button  x:Name="COMOpenClosePortMainButton" 
                      Command="{Binding SerialPort.AutoConnectDisconnectCommand, Mode=OneTime}"
                      Content="{Binding SerialPort.IsConnected, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource BoolToIsConnectedConverter}}" 
                      VerticalAlignment="Stretch" Margin="163,0,0,0" Grid.Row="5" HorizontalAlignment="Stretch"
                      />
                    <Button x:Name="COMConfButton" 
                      Command="{Binding Config.ConfigCommand, Mode=OneTime}"
                      Content="Конфигурация" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="0,0,300,0" Grid.Row="5"
                      />
                    <!--Для кнопок
                    Width="83" Background="#FFA5D6A7"
                      BorderBrush="#FF388E3C" Foreground="#FF1B5E20" BorderThickness="0,0,0,0"/-->
                </Grid>
                <Grid Grid.Row="1">
                    <GroupBox Header="Параметры для связи с индикаторами">
                        <Grid>
                            <TextBlock x:Name="CallFreqtextBlock" HorizontalAlignment="Left" TextWrapping="Wrap" Text="Адрес вызова" VerticalAlignment="Top" Margin="5,10,0,0"/>
                            <TextBlock x:Name="CallAddrtextBlock" HorizontalAlignment="Left" TextWrapping="Wrap" Text="Частота вызова" VerticalAlignment="Top" Margin="5,40,0,0"/>
                            <TextBlock x:Name="CallTimetextBlock" HorizontalAlignment="Left" TextWrapping="Wrap" Text="Время вызова" VerticalAlignment="Top" Margin="5,70,0,0"/>
                            <TextBlock x:Name="WaitTimetextBlock" HorizontalAlignment="Left" TextWrapping="Wrap" Text="Время ожидания ответа" VerticalAlignment="Top" Margin="5,100,0,0"/>
                            <TextBox x:Name="CallFreqtextBox" HorizontalAlignment="Left" Margin="176,8,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="100"/>
                            <TextBox x:Name="CallAddrtextBox" HorizontalAlignment="Left" Margin="176,38,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="100"/>
                            <TextBox x:Name="CallTimetextBox" HorizontalAlignment="Left" Margin="176,68,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="100"/>
                            <TextBox x:Name="WaitTimetextBox" HorizontalAlignment="Left" Margin="176,98,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="100"/>
                        </Grid>
                    </GroupBox>
                </Grid>
                <Grid Grid.Row="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="225"/>
                        <RowDefinition Height="40"/>
                    </Grid.RowDefinitions>
                    <GroupBox Header="Сообщения">
                        <Grid>
                            <TextBox
                         TextWrapping="Wrap" 
                         VerticalScrollBarVisibility="Auto" 
                         AcceptsReturn="True"
                         Text="{Binding Messages.MessagesText, UpdateSourceTrigger=PropertyChanged}"
                         FontSize="12"
                         IsReadOnly="true"
                         Margin="0,0,0,0"/>
                        </Grid>
                    </GroupBox>
                    <Grid VerticalAlignment="Bottom" Height="40" Grid.Row="1">
                        <Button x:Name="SendButton" Margin="5,0,0,0" Command="{Binding Messages.SendMessageCommand, Mode=OneTime}"
                         Content="Отправить" HorizontalAlignment="Left" VerticalAlignment="Center" Height="30" Width="137"/>
                        <CheckBox x:Name="HEXCheckBox"
                         Margin="340,5,10,10"
                         IsChecked="{Binding Messages.IsHEX, UpdateSourceTrigger=PropertyChanged}"
                         Content="Отправка HEX"/>
                        <TextBox x:Name="COMInputTextBox"
                         Text="{Binding Messages.ToBeSentText, UpdateSourceTrigger=PropertyChanged}"   
                         Margin="150,0,150,0" TextWrapping="Wrap" VerticalAlignment="Center" Height="30">
                        </TextBox>
                    </Grid>
                </Grid>
            </Grid>
            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="450"/>
                    <RowDefinition Height="5"/>
                    <RowDefinition Height="150*"/>
                </Grid.RowDefinitions>
                <Grid>
                    <!--ScrollViewer/-->
                    <!--DataGrid x:Name="dataGrid" d:ItemsSource="{d:SampleData ItemCount=5}" Margin="0,0,0,97"/-->
                    <GroupBox x:Name="IndicatorParamsGroupBox" Header="Значения в памяти индикатора">
                        <TabControl x:Name="IndicatorParamsTabControl" Margin="0,0,0,0">
                            <TabItem Header="Общие параметры индикатора" Width="190" Height="30">
                                <Grid Background="#FF2F2F2F">
                                </Grid>
                            </TabItem>
                            <TabItem Header="Параметры определения межфазного замыкания" Width="300" Height="30">
                                <Grid Background="#FF2F2F2F">
                                </Grid>
                            </TabItem>
                            <TabItem Header="Параметры определения замыкания на землю" Width="280" Height="30">
                                <Grid Background="#FF2F2F2F">
                                </Grid>
                            </TabItem>
                        </TabControl>
                    </GroupBox>
                </Grid>
                <Grid Grid.Column="2" Grid.Row="2">
                    <GroupBox x:Name="SendParamsGroupBox" Header="Информация о параметрах передачи">
                    </GroupBox>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window>